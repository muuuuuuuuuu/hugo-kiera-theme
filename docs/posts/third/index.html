<!doctype html>

<html lang="en">

<head>
  <title>muuuuuuuuuu blog</title>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="The HTML5 Herald" />
  <meta name="author" content="" />
  <meta name="generator" content="Hugo 0.50" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/7.0.0/normalize.min.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" />
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto+Slab|Ruda" />
  <link rel="stylesheet" type="text/css" href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/css/styles.css" />
</head>

<body>
  <div id="container">
    <header>
      <h1>
                <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/">muuuuuuuuuu blog</a>
            </h1>

      <ul id="social-media">
        
        <li><a href="https://twitter.com/muuuuuuuuuu7"><i class="fa fa-twitter fa-lg" aria-hidden="true"></i></a></li>
          
        <li><a href="https://github.com/muuuuuuuuuu"><i class="fa fa-github fa-lg" aria-hidden="true"></i></a></li>
           
      </ul>
      
      <p><em>ãƒ—ãƒ­ã‚°ãƒ©ãƒŸãƒ³ã‚°å‹‰å¼·ä¸­ã®ã‚¢ã‚¦ãƒˆãƒ—ãƒƒãƒˆãƒ–ãƒ­ã‚°</em></p>
      
    </header>

    
<nav>
    <ul>
        
        <li>
            <a class="" href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/posts/">
                <i class="fa-li fa  fa-lg"></i><span>blog &amp; autoput</span>
            </a>
        </li>
        
        <li>
            <a class="" href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/about/">
                <i class="fa-li fa  fa-lg"></i><span>profile</span>
            </a>
        </li>
        
    </ul>
</nav>

    <main>




<article>

    <h1>3ã‚¹ãƒ†ãƒƒãƒ—ã§å­¦ã¶Rubyå…¥é–€</h1>

    
        <aside>
    <ul>
        <li>
            <time class="post-date" datetime="2018-11-22T11:33:12&#43;09:00">Nov 22, 2018</time>
        </li>
        
        
        <li>
            Categories: 
            <em>
                
                    
                    <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/categories/file/">file</a>
                
                    , 
                    <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/categories/regexp/">regexp</a>
                
                    , 
                    <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/categories/csv/">csv</a>
                
            </em>
        </li>
        

        
        <li>
            <em>
                
                    
                    <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/tags/file/">#file</a>
                
                    , 
                    <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/tags/regexp/">#regexp</a>
                
                    , 
                    <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/tags/csv/">#csv</a>
                
            </em>
        </li>
        

        <li>2 min read</li>
    </ul>
</aside>
    

    <p><strong>-3ã‚¹ãƒ†ãƒƒãƒ—ã§å­¦ã¶Rubyå…¥é–€-</strong>
ã“ã®å‚è€ƒæ›¸ã®10ç« ã®ã€Œãƒ•ã‚¡ã‚¤ãƒ«ã‚’æ›¸ãæ›ãˆã‚ˆã†ã€ã¨ã‚†ã†å•é¡Œã§
ã¤ã¾ã¥ã„ãŸã®ã§ãƒ¡ãƒ¢ã€‚</p>

<p>Rubyåˆå¿ƒè€…ã«ã‚ã‹ã‚Šã‚„ã™ã„è§£èª¬ã‚’ã—ã¦ãã ã•ã£ã¦ã‚‹ã‚°ãƒ©ãƒŸãƒ¼å…ˆç”Ÿã¨ã‚†ã†æ–¹ã®è¨˜äº‹ã‚’æ‹è¦‹ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚<br>ã“ã¡ã‚‰ãŒã‚°ãƒ©ãƒŸãƒ¼å…ˆç”Ÿã®ã‚µã‚¤ãƒˆã§ã™(^ ^)<br><a href="https://www.grami-sensei.com/" title="ã‚°ãƒ©ãƒŸãƒ¼å…ˆç”Ÿ">https://www.grami-sensei.com/</a></p>

<p>ã‚ã‹ã‚Šã‚„ã™ãè¦ªåˆ‡ä¸å¯§ã«èª¬æ˜ã‚’ã—ã¦ãã ã•ã£ã¦ã„ã‚‹ã®ã§ã¨ã¦ã‚‚å‚è€ƒã«ãªã‚Šã¾ã—ãŸã€‚ã‚°ãƒ©ãƒŸãƒ¼å…ˆç”Ÿã‚ã‚ŠãŒã¨ã†ã”ã–ã„ã¾ã™( Â´âˆ€ï½€)</p>

<p>ã‚°ãƒ©ãƒŸãƒ¼å…ˆç”Ÿã®è¨˜äº‹ã‚’å¼•ç”¨ã•ã›ã¦ã‚‚ã‚‰ã„ã¾ã—ãŸã€‚</p>

<hr />

<p>1.<strong>ã‚¯ãƒ©ã‚¹ã®é››å½¢ã‚’è¨˜è¿°ã™ã‚‹</strong><br>ä»¥ä¸‹ã®ã‚ˆã†ãªã‚¯ãƒ©ã‚¹ã®é››å½¢ã¨ã‚¯ãƒ©ã‚¹ã®ã‚¤ãƒ³ã‚¹ã‚¿ãƒ³ã‚¹ã‚’
ç”Ÿæˆã—ã¦å®Ÿè¡Œã™ã‚‹ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¨˜è¿°ã—ã€
ãƒ•ã‚¡ã‚¤ãƒ«åã‚’data_replacement.rbã¨ã—ã¦ä¿å­˜ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-data_replacement.rb" data-lang="data_replacement.rb"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DataReplacement</span>
  <span style="color:#66d9ef">attr_writer</span> <span style="color:#e6db74">:inputfile</span>, <span style="color:#e6db74">:outputfile</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">replace</span>
    p <span style="color:#ae81ff">1</span>
  <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

replacement <span style="color:#f92672">=</span> <span style="color:#66d9ef">DataReplacement</span><span style="color:#f92672">.</span>new
replacement<span style="color:#f92672">.</span>inputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>outputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>replace</code></pre></div>
<p>[è£œè¶³æƒ…å ±1]<br>ARGV[1]ã¨ARGV[2]ã¯Rubyã‚’CLIã§å®Ÿè¡Œã™ã‚‹æ™‚ã«å¤–éƒ¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ãªã©ã®æƒ…å ±ã‚’å‡¦ç†ã™ã‚‹ãŸã‚ã®ã‚‚ã®ã§ã™ã€‚<br>[è£œè¶³æƒ…å ±2]<br>attr_writerã§æ›¸ãè¾¼ã¿å°‚ç”¨ã®ã‚¢ã‚¯ã‚»ã‚µãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¨­å®šã—ã¦ã„ã¾ã™ã€‚</p>

<hr />

<p>2.<strong>ã‚¯ãƒ©ã‚¹ã®é››å½¢ã‚’è¨˜è¿°ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹</strong><br>ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä¸Šã§ä¿å­˜ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’æŒ‡å®šã—ã¦ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚å®Ÿè¡Œçµæœã«1ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>

<pre><code>$ ruby data_replacement.rb
1
</code></pre>

<hr />

<p>3.<strong>ãƒ•ã‚¡ã‚¤ãƒ«èª­ã¿è¾¼ã¿ã‚’å®Ÿè£…ã™ã‚‹</strong><br>ä»¥ä¸‹ã®ã‚ˆã†ã«replaceãƒ¡ã‚½ãƒƒãƒ‰ã¨contentsãƒ¡ã‚½ãƒƒãƒ‰ã‚’è¨˜è¿°ã—ä¿å­˜ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-data_replacement.rb" data-lang="data_replacement.rb"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DataReplacement</span>
  <span style="color:#66d9ef">attr_writer</span> <span style="color:#e6db74">:inputfile</span>, <span style="color:#e6db74">:outputfile</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">replace</span>
    contents<span style="color:#f92672">.</span>each <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>content<span style="color:#f92672">|</span>
      p content
    <span style="color:#66d9ef">end</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">private</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">contents</span>
      fail <span style="color:#e6db74">&#39;Specify inputfile.&#39;</span> <span style="color:#66d9ef">if</span> @inputfile<span style="color:#f92672">.</span>nil?
      <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>read(@inputfile)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

replacement <span style="color:#f92672">=</span> <span style="color:#66d9ef">DataReplacement</span><span style="color:#f92672">.</span>new
replacement<span style="color:#f92672">.</span>inputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>outputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>replace</code></pre></div>
<hr />

<p>4.<strong>å…ƒã®CSVå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç”¨æ„ã™ã‚‹</strong><br>ä»¥ä¸‹ã®ã‚ˆã†ãªCSVå½¢å¼ã®ãƒ‡ãƒ¼ã‚¿ãŒè¨˜è¿°ã—ã¦ãƒ•ã‚¡ã‚¤ãƒ«åã‚’inputdata.csvã§ä¿å­˜ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-inputdata.csv" data-lang="inputdata.csv">å±±ç”° å¤ªéƒ,1,09012345678
å±±ç”° èŠ±å­,2,09023456789
éˆ´æœ¨ æ¬¡éƒ,1,09034567890
éˆ´æœ¨ æ¡ƒå­,2,09045678901
ç”°ä¸­ ä¸‰éƒ,1,09056789012
ç”°ä¸­ æ¢…å­,2,09067890123
é«˜æ©‹ å››éƒ,1,09078901234
é«˜æ©‹ æ¡œå­,2,09089012345
ä½è—¤ äº”éƒ,1,09090123456
ä½è—¤ æå­,2,09001234567</code></pre></div>
<p>[è£œè¶³æƒ…å ±]<br><strong>CSVãƒ•ã‚¡ã‚¤ãƒ«ã¨ã¯</strong><br>ã€ŒCSVã€ã¨ã¯ &ldquo;Comma Separated Value&rdquo; ã®ç•¥ã§ã€ãƒ‡ãƒ¼ã‚¿ã‚’ã‚«ãƒ³ãƒ(&rdquo; , &ldquo;)åŒºåˆ‡ã£ãŸå€¤ã®äº‹ã§ã™ã€‚ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³é–“ã§ãƒ‡ãƒ¼ã‚¿ã‚’ã‚„ã‚Šå–ã‚Šã™ã‚‹éš›ã«ä½¿ã‚ã‚Œã¾ã™ã€‚CSVå½¢å¼ã§ä¿å­˜ã•ã‚ŒãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ã€ŒCSVãƒ•ã‚¡ã‚¤ãƒ«ã€ã¨å‘¼ã³ã¾ã™ã€‚
CSVå½¢å¼ã®ãƒ•ã‚¡ã‚¤ãƒ«ã¯ã€ãƒ¡ãƒ¢å¸³ãªã©ã®ãƒ†ã‚­ã‚¹ãƒˆã‚¨ãƒ‡ã‚£ã‚¿ãƒ¼ã§ä½œæˆã™ã‚‹ã“ã¨ãŒã§ãã¾ã™ã€‚é …ç›®ã¨é …ç›®ã®é–“ã«ã‚«ãƒ³ãƒã‚’å…¥ã‚Œã¦ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’è¨˜å…¥ã—ã¦ã‚†ãã¾ã™ã€‚ãƒ•ã‚¡ã‚¤ãƒ«ã®æ‹¡å¼µå­ã¯ã€Œcsvã€ã§ä¿å­˜ã—ã¾ã™ã€‚ãƒ¡ãƒ¢å¸³ã§ã‚«ãƒ³ãƒåŒºåˆ‡ã‚Šã®ãƒ‡ãƒ¼ã‚¿ãƒ¼ã‚’ä½œæˆã—ã€ã€Œtxtã€ãƒ•ã‚¡ã‚¤ãƒ«ã¨ã—ã¦ä¿å­˜ã™ã‚‹ã¨ã€ãã‚Œã¯ã€ŒCSVãƒ•ã‚¡ã‚¤ãƒ«ã€ã§ã¯ãªããŸã ã®ã€Œãƒ†ã‚­ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«ã€ã«ãªã‚Šã¾ã™ã®ã§æ°—ã‚’ã¤ã‘ã¦ä¸‹ã•ã„ã€‚</p>

<hr />

<p>5.<strong>ä¿å­˜ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å¼•æ•°ã‚’æŒ‡å®šã—ã¦å®Ÿè¡Œã™ã‚‹</strong><br>ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä¸Šã§ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã—ã¾ã™ã€‚å®Ÿè¡ŒçµæœãŒinputdata.csvã®ä¸­èº«ã¨åŒã˜ã§ã‚ã‚‹ã“ã¨ã‚’ç¢ºèªã—ã¾ã™ã€‚</p>

<pre><code>$ ruby  data_replacement.rb inputdata.csv
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-inputdata.csv" data-lang="inputdata.csv">&#34;å±±ç”° å¤ªéƒ,1,09012345678&#34;
&#34;å±±ç”° èŠ±å­,2,09023456789&#34;
&#34;éˆ´æœ¨ æ¬¡éƒ,1,09034567890&#34;
&#34;éˆ´æœ¨ æ¡ƒå­,2,09045678901&#34;
&#34;ç”°ä¸­ ä¸‰éƒ,1,09056789012&#34;
&#34;ç”°ä¸­ æ¢…å­,2,09067890123&#34;
&#34;é«˜æ©‹ å››éƒ,1,09078901234&#34;
&#34;é«˜æ©‹ æ¡œå­,2,09089012345&#34;
&#34;ä½è—¤ äº”éƒ,1,09090123456&#34;
&#34;ä½è—¤ æå­,2,09001234567&#34;</code></pre></div>
<hr />

<p>6.<strong>åå‰ã€æ€§åˆ¥ã€æºå¸¯é›»è©±ç•ªå·ã‚’æ›¸ãæ›ãˆã‚‹å‡¦ç†ã‚’è¨˜è¿°ã—ã¦ä¿å­˜ã™ã‚‹</strong><br>ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¨˜è¿°ã—ä¿å­˜ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-data_replacement.rb" data-lang="data_replacement.rb"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DataReplacement</span>
  <span style="color:#66d9ef">attr_writer</span> <span style="color:#e6db74">:inputfile</span>, <span style="color:#e6db74">:outputfile</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">replace</span>
    contents<span style="color:#f92672">.</span>map <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>content<span style="color:#f92672">|</span>
      name, sex_code, tel <span style="color:#f92672">=</span> content<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;,&#39;</span>)
      last_name, first_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>split
      <span style="color:#f92672">[</span>last_name, first_name, sex(sex_code), separated_tel(tel)<span style="color:#f92672">].</span>join(<span style="color:#e6db74">&#39;,&#39;</span>)
    <span style="color:#66d9ef">end</span>
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">private</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">contents</span>
      fail <span style="color:#e6db74">&#39;Specify inputfile.&#39;</span> <span style="color:#66d9ef">if</span> @inputfile<span style="color:#f92672">.</span>nil?
      <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>read(@inputfile)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sex</span>(code)
      code<span style="color:#f92672">.</span>to_i <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;ç”·æ€§&#39;</span> : <span style="color:#e6db74">&#39;å¥³æ€§&#39;</span>
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">separated_tel</span>(number)
      number<span style="color:#f92672">.</span>match(<span style="color:#e6db74">/(\d{3})(\d{4})(\d{4})/</span>)
      <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>$1<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">#{</span>$2<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">#{</span>$3<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

replacement <span style="color:#f92672">=</span> <span style="color:#66d9ef">DataReplacement</span><span style="color:#f92672">.</span>new
replacement<span style="color:#f92672">.</span>inputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>outputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672">]</span>
p replacement<span style="color:#f92672">.</span>replace</code></pre></div>
<hr />

<p>7.<strong>åå‰ã€æ€§åˆ¥ã€æºå¸¯é›»è©±ç•ªå·ã‚’æ›¸ãæ›ãˆã‚‹å‡¦ç†ã‚’è¨˜è¿°ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹</strong><br>ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä¸Šã§ä¿å­˜ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚
å®Ÿè¡Œçµæœã«æ›¸ãæ›ãˆãŸå¾Œã®è¡Œæ¯ã®é…åˆ—ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>

<pre><code>$ ruby data_replacement.rb inputdata.csv
</code></pre>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-inputdata.csv" data-lang="inputdata.csv">[&#34;å±±ç”°,å¤ªéƒ,ç”·æ€§,090-1234-5678&#34;, &#34;å±±ç”°,èŠ±å­,å¥³æ€§,090-2345-6789&#34;,
   &#34;éˆ´æœ¨,æ¬¡éƒ,ç”·æ€§,090-3456-7890&#34;, &#34;éˆ´æœ¨,æ¡ƒå­,å¥³æ€§,090-4567-8901&#34;,
   &#34;ç”°ä¸­,ä¸‰éƒ,ç”·æ€§,090-5678-9012&#34;, &#34;ç”°ä¸­,æ¢…å­,å¥³æ€§,090-6789-0123&#34;,
    &#34;é«˜æ©‹,å››éƒ,ç”·æ€§,090-7890-1234&#34;, &#34;é«˜æ©‹,æ¡œå­,å¥³æ€§,090-8901-2345&#34;,
    &#34;ä½è—¤,äº”éƒ,ç”·æ€§,090-9012-3456&#34;, &#34;ä½è—¤,æå­,å¥³æ€§,090-0123-4567&#34;]</code></pre></div>
<hr />

<p>8.<strong>ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™å‡¦ç†ã‚’è¿½åŠ ã™ã‚‹</strong><br>ä»¥ä¸‹ã®ã‚ˆã†ã«ãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’è¨˜è¿°ã—ä¿å­˜ã—ã¾ã™ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-data_replacement.rb" data-lang="data_replacement.rb"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">DataReplacement</span>
  <span style="color:#66d9ef">attr_writer</span> <span style="color:#e6db74">:inputfile</span>, <span style="color:#e6db74">:outputfile</span>

  <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">replace</span>
    output <span style="color:#f92672">=</span> contents<span style="color:#f92672">.</span>map <span style="color:#66d9ef">do</span> <span style="color:#f92672">|</span>content<span style="color:#f92672">|</span>
      name, sex_code, tel <span style="color:#f92672">=</span> content<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#39;,&#39;</span>)
      last_name, first_name <span style="color:#f92672">=</span> name<span style="color:#f92672">.</span>split
      <span style="color:#f92672">[</span>last_name, first_name, sex(sex_code), separated_tel(tel)<span style="color:#f92672">].</span>join(<span style="color:#e6db74">&#39;,&#39;</span>)
    <span style="color:#66d9ef">end</span><span style="color:#f92672">.</span>join(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    write_file(output)
  <span style="color:#66d9ef">end</span>

  <span style="color:#66d9ef">private</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">contents</span>
      fail <span style="color:#e6db74">&#39;Specify inputfile.&#39;</span> <span style="color:#66d9ef">if</span> @inputfile<span style="color:#f92672">.</span>nil?
      <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>read(@inputfile)<span style="color:#f92672">.</span>split(<span style="color:#e6db74">&#34;</span><span style="color:#ae81ff">\n</span><span style="color:#e6db74">&#34;</span>)
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sex</span>(code)
      code<span style="color:#f92672">.</span>to_i <span style="color:#f92672">==</span> <span style="color:#ae81ff">1</span> <span style="color:#f92672">?</span> <span style="color:#e6db74">&#39;ç”·æ€§&#39;</span> : <span style="color:#e6db74">&#39;å¥³æ€§&#39;</span>
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">separated_tel</span>(number)
      number<span style="color:#f92672">.</span>match(<span style="color:#e6db74">/(\d{3})(\d{4})(\d{4})/</span>)
      <span style="color:#e6db74">&#34;</span><span style="color:#e6db74">#{</span>$1<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">#{</span>$2<span style="color:#e6db74">}</span><span style="color:#e6db74">-</span><span style="color:#e6db74">#{</span>$3<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
    <span style="color:#66d9ef">end</span>

    <span style="color:#66d9ef">def</span> <span style="color:#a6e22e">write_file</span>(output)
      fail <span style="color:#e6db74">&#39;Specify outputfile.&#39;</span> <span style="color:#66d9ef">if</span> @outputfile<span style="color:#f92672">.</span>nil?
      <span style="color:#66d9ef">File</span><span style="color:#f92672">.</span>write(@outputfile, output)
    <span style="color:#66d9ef">end</span>
<span style="color:#66d9ef">end</span>

replacement <span style="color:#f92672">=</span> <span style="color:#66d9ef">DataReplacement</span><span style="color:#f92672">.</span>new
replacement<span style="color:#f92672">.</span>inputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">0</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>outputfile <span style="color:#f92672">=</span> <span style="color:#66d9ef">ARGV</span><span style="color:#f92672">[</span><span style="color:#ae81ff">1</span><span style="color:#f92672">]</span>
replacement<span style="color:#f92672">.</span>replace</code></pre></div>
<hr />

<p>9.<strong>ãƒ•ã‚¡ã‚¤ãƒ«ã«æ›¸ãå‡ºã™å‡¦ç†ã‚’è¿½åŠ ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’å®Ÿè¡Œã™ã‚‹</strong><br>ã‚³ãƒãƒ³ãƒ‰ãƒ©ã‚¤ãƒ³ä¸Šã§ä¿å­˜ã—ãŸãƒ—ãƒ­ã‚°ãƒ©ãƒ ã‚’ä»¥ä¸‹ã®ã‚ˆã†ã«å®Ÿè¡Œã—ã¾ã™ã€‚
å®Ÿè¡Œçµæœã«ã¯ä½•ã‚‚è¡¨ç¤ºã•ã‚Œã¾ã›ã‚“ã€‚</p>

<pre><code>$ ruby data_replacement.rb inputdata.csv outputdata.csv
</code></pre>

<p>[è£œè¶³æƒ…å ±]<br>outputdata.csvãŒç”Ÿæˆã•ã‚Œã‚‹ã€‚</p>

<hr />

<p>10.<strong>æ›¸ãå‡ºã—ãŸãƒ•ã‚¡ã‚¤ãƒ«ã‚’ç¢ºèªã™ã‚‹</strong><br>ãƒ—ãƒ­ã‚°ãƒ©ãƒ å®Ÿè¡Œæ™‚ã«æŒ‡å®šã—ãŸæ›¸ãå‡ºã—ç”¨ã®ãƒ•ã‚¡ã‚¤ãƒ«ã§ã‚ã‚‹
outputdata.csvã‚’é–‹ã„ã¦ç¢ºèªã—ã¾ã™ã€‚
inputdata.csvã‚’æ›¸ãæ›ãˆãŸå†…å®¹ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ã€‚</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-inputdata.csv" data-lang="inputdata.csv">å±±ç”°,å¤ªéƒ,ç”·æ€§,090-1234-5678
å±±ç”°,èŠ±å­,å¥³æ€§,090-2345-6789
éˆ´æœ¨,æ¬¡éƒ,ç”·æ€§,090-3456-7890
éˆ´æœ¨,æ¡ƒå­,å¥³æ€§,090-4567-8901
ç”°ä¸­,ä¸‰éƒ,ç”·æ€§,090-5678-9012
ç”°ä¸­,æ¢…å­,å¥³æ€§,090-6789-0123
é«˜æ©‹,å››éƒ,ç”·æ€§,090-7890-1234
é«˜æ©‹,æ¡œå­,å¥³æ€§,090-8901-2345
ä½è—¤,äº”éƒ,ç”·æ€§,090-9012-3456
ä½è—¤,æå­,å¥³æ€§,090-0123-4567</code></pre></div>
<hr />

<p>è©¦ã—ã«è‡ªåˆ†ã®åå‰ã€æ€§åˆ¥ã€ç•ªå·ã‚’inputdata.csvã«æ›¸ãè¾¼ã‚“ã§ã‹ã‚‰</p>

<pre><code>$ ruby data_replacement.rb inputdata.csv outputdata.csv
</code></pre>

<p>ã‚’ã—ãŸã‚‰ã—ã£ã‹ã‚Šã¨è¨˜è¿°ã•ã‚Œã¾ã—ãŸğŸ˜š</p>


</article>


<section class="post-nav">
    <ul>
        
        <li>
            <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/posts/secound-post/"><i class="fa fa-chevron-circle-left"></i> hugoã®ç·¨é›†</a>
        </li>
        
        
        <li>
            <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/posts/four/">Ruby?ã®è‰²ã‚“ãªè¨€è‘‰ã®ã‚ã‚Œã“ã‚Œ <i class="fa fa-chevron-circle-right"></i> </a>
        </li>
        
    </ul>
</section>
    





</main>
    <footer>
        <h6>Copyright &copy; 2018 - muuuuuuuuuu | 
            Rendered by <a href="https://gohugo.io" title="Hugo">Hugo</a> |
            <a href="https://muuuuuuuuuu.github.io/hugo-kiera-theme/index.xml">Subscribe</a></h6>
    </footer>
</div>
<script src="https://muuuuuuuuuu.github.io/hugo-kiera-theme/js/scripts.js"></script>
</body>

</html>